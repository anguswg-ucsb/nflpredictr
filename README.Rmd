---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse    = TRUE,
  comment     = "#>",
  fig.path    = "man/figures/README-",
  out.width   = "40%",
  eval        = TRUE
)
```

# nflpredictr <img src="man/figures/logo.png" align="right" width="25%" />

<!-- badges: start -->
[![Dependencies](https://img.shields.io/badge/dependencies-7/26-orange?style=flat)](#)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://choosealicense.com/licenses/mit/)
<!-- badges: end -->

<div align="left">

  <p align="left">
    <a href="http://68.183.25.9:8000/__docs__/"><strong>« API »</strong></a>
    <br />
    <a href="https://anguswg-ucsb.github.io/nfl_wins/">Model Details</a>
  </p>
</div>

<hr>

The goal of `nflpredictr` is to access the [NFL Win Predictor API](http://68.183.25.9:8000/__docs__/) to predictions on past and upcoming NFL games.

<hr>

## Installation

You can install the development version of `nflpredictr` from [GitHub](https://github.com/) with:

```{r, eval=FALSE, echo=TRUE}
# install.packages("devtools")
devtools::install_github("anguswg-ucsb/nflpredictr")
```

## Example

`nflpredictr` provides utility functions for accessing predictions from the [NFL Win Predictor API](http://68.183.25.9:8000/__docs__/)
If no inputs are given to `predict_games()`, the default behavior is to make a prediction for the upcoming week of the current NFL season
```{r example}
# Load package
library(nflpredictr)

# Make an API request using predict_games()
nflpredictr::predict_games(
  year = 2022, 
  week = 1
  )
```

<br>

## Make predictions on past games
Predictions can also be requested for past weeks, going back to the 2016 season
```{r past_predictions}
# Make an API request using predict_games() for a specific year and week
nflpredictr::predict_games(
  year = 2017,
  week = 8
  )
```

## Plot the teams favored to win that week
`nflpredictr` contains a few functions for quick plotting the outputs from `predict_games()`. The `plot_favored()` function will plot the teams favored by the NFL Win Prediction API model in order of win probability.
```{r plot_fav, eval=FALSE}
# Plot the outputs from predict_games()
fav_plot <- nflpredictr::plot_favored(
  predictions = nflpredictr::predict_games(
    year = 2022,
    week = 1
  ),
  prob_alpha  = FALSE
  )
```

<img src="man/figures/plot_fav.png" align="center" height = "100%" width="100%" />

<br>

## Retrieve current Las Vegas betting odds 
The `get_vegas()` function will retrieve Vegas spreads, money lines, and totals for the current season
```{r vegas_ex}
vegas_odds <- nflpredictr::get_vegas()

vegas_odds
```
